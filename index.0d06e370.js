const t=new URLSearchParams({key:"32468715-2ee7d1cef437ed65ce73ff92a",image_type:"photo",orientation:"horizontal",safesearch:!0});async function n(n,e,a){try{const o=await fetch(`https://pixabay.com/api/?q=${n}&page=${e}&per_page=${a}&${t}`);return await o.json()}catch(t){return console.log("error :>> ",t)}}function e(t,n){let e=t.reduce(((t,{webformatURL:n,tags:e,id:a})=>t+` <img \n          class="card-image" \n          id="${a}"\n          src="${n}" \n          alt="${e}" \n          loading="lazy"\n        />`),"");n.insertAdjacentHTML("beforeend",e)}const a=document.querySelector(".js-pagination");let o,c,i,r=1,s=window.matchMedia("(min-width: 600px)"),u=s.matches?9:5;function l(t,n){r=t,i=n,o=function(t,n){const e=[];let a,o;const c=Math.floor(u/2);t<1?t=1:t>n&&(t=n);n<=u?(a=1,o=n):t<=c?(a=1,o=u):t+c>=n?(a=n-2*c,o=n):(a=t-c,o=t+c);for(let t=a;t<=o;t+=1)e.push(t);9===u&&(e.splice(0,1,1),e.splice(e.length-1,1,n),t-1>c&&n>u&&e.splice(1,1," ..."),t+1+c<n&&n>u&&e.splice(e.length-2,1,"... "));return e}(r,i),function(t,n){let e=t.reduce(((t,n)=>t+`<button type="button" ${n===r?'class="pagination-button pagination-button-current"':'class="pagination-button"'}>${n}</button>`),"");i>u&&1!==r&&(e='<button type="button" class="pagination-button">&lt;</button>'+e);i>u&&r!==i&&(e+='<button type="button" class="pagination-button">&gt;</button>');n.innerHTML="",n.insertAdjacentHTML("beforeend",e)}(o,a)}function g(t){if("BUTTON"!==t.target.nodeName)return r;const n=t.target.textContent;return isNaN(Number(n))||(c=Number(n)),">"===n&&r===i?i:(">"===n&&(c=r+1),"<"===n&&1===r?1:("<"===n&&(c=r-1)," ..."===n&&(c=r-(u-4)),"... "===n&&(c=r+(u-4)),c===r||(r=c),r))}s.addEventListener("change",(t=>{u=t.matches?9:5,l(r,i)}));const p=document.querySelector(".js-gallery");let d=100,f=1;async function h(){try{const t=await n("",f,12);if(!t.hits.length)return;const{hits:a,totalHits:o}=t;d=Math.ceil(o/12),p.innerHTML="",e(a,p)}catch(t){console.log("error :>> ",t)}}a.addEventListener("click",(async function(t){const n=g(t);if(f===n)return;f=n,l(f,d),await h()})),async function(){await h(),l(f,d)}();
//# sourceMappingURL=index.0d06e370.js.map
