const t=new URLSearchParams({key:"32468715-2ee7d1cef437ed65ce73ff92a",image_type:"photo",orientation:"horizontal",safesearch:!0});async function n(n,e,a){try{const o=await fetch(`https://pixabay.com/api/?q=${n}&page=${e}&per_page=${a}&${t}`);return await o.json()}catch(t){return console.log("error :>> ",t)}}function e(t,n){let e=t.reduce(((t,{webformatURL:n,tags:e,id:a})=>t+` <img \n          class="card-image" \n          id="${a}"\n          src="${n}" \n          alt="${e}" \n          loading="lazy"\n        />`),"");n.insertAdjacentHTML("beforeend",e)}const a=document.querySelector(".js-pagination");let o,c,r,i=1,s=window.matchMedia("(min-width: 600px)"),u=s.matches?9:5;function l(t,n){i=t,r=n,o=function(t,n){const e=[];let a,o;const c=Math.floor(u/2);t<1?t=1:t>n&&(t=n);n<=u?(a=1,o=n):t<=c?(a=1,o=u):t+c>=n?(a=n-2*c,o=n):(a=t-c,o=t+c);for(let t=a;t<=o;t+=1)e.push(t);9===u&&(e.splice(0,1,1),e.splice(e.length-1,1,n),t-1>c&&n>u&&e.splice(1,1," ..."),t+1+c<n&&n>u&&e.splice(e.length-2,1,"... "));return e}(i,r),function(t,n){let e=t.reduce(((t,n)=>t+`<button type="button" ${n===i?'class="pagination-button pagination-button-current"':'class="pagination-button"'}>${n}</button>`),"");r>u&&1!==i&&(e='<button type="button" class="pagination-button">&lt;</button>'+e);r>u&&i!==r&&(e+='<button type="button" class="pagination-button">&gt;</button>');n.innerHTML="",n.insertAdjacentHTML("beforeend",e)}(o,a)}function d(t){if("BUTTON"!==t.target.nodeName)return i;const n=t.target.textContent;return isNaN(Number(n))||(c=Number(n)),">"===n&&i===r?r:(">"===n&&(c=i+1),"<"===n&&1===i?1:("<"===n&&(c=i-1)," ..."===n&&(c=i-(u-4)),"... "===n&&(c=i+(u-4)),c===i||(i=c),i))}s.addEventListener("change",(t=>{u=t.matches?9:5,l(i,r)}));let f="";const g=document.querySelector(".js-gallery"),p=document.querySelector(".js-form");let h;p.addEventListener("submit",(async function(t){t.preventDefault(),f=t.currentTarget.elements.searchQuery.value.trim(),b=1,await m(),p.reset()}));let b=1;async function m(){await async function(){try{const t=await n(f,b,12);if(!t.hits.length)return;const{hits:a,totalHits:o}=t;h=Math.ceil(o/12),g.innerHTML="",e(a,g)}catch(t){console.log("error :>> ",t)}}(),l(b,h)}a.addEventListener("click",(async function(t){const n=d(t);if(b===n)return;b=n,await m()})),m();
//# sourceMappingURL=index.4280ebc7.js.map
